{% extends 'hris_system/base.html' %}
{% block title %}{% endblock %}
{% block body_block %}
{% load static %}

<div>
	<h1>Your Request History</h1>
	{% if pending_requests %}
	<h3>PENDING</h3>
			<table class="table">
				<th>Last Name</th>
				<th>First Name</th>
				<th>Position</th>
				<th>Start Date</th>
				<th>End Date</th>
				<th></th>
				{% for request in pending_requests %}				
				<tr>
					<td>{{ request.employee.last_name }}</td>
					<td>{{ request.employee.first_name }}</td>
					<td>{{ request.employee.position }}</td>
					<td>{{ request.date_start }}</td>
					<td>{{ request.date_end }}</td>
					<td><a href="/hris/cancel_request/{{ request.id }}">Cancel</a></td>
				</tr>
				{% endfor %}		
			</table>
	{% endif %}
	{% if approved_requests %}
	<h3>APPROVED</h3>
			<table class="table">
				<th>Last Name</th>
				<th>First Name</th>
				<th>Position</th>
				<th>Start Date</th>
				<th>End Date</th>

				{% for request in approved_requests %}				
				<tr>
					<td>{{ request.employee.last_name }}</td>
					<td>{{ request.employee.first_name }}</td>
					<td>{{ request.employee.position }}</td>
					<td>{{ request.date_start }}</td>
					<td>{{ request.date_end }}</td>
				</tr>
				{% endfor %}		
			</table>
	{% endif %}
	{% if denied_requests %}
	<h3>DENIED</h3>
			<table class="table">
				<th>Last Name</th>
				<th>First Name</th>
				<th>Position</th>
				<th>Start Date</th>
				<th>End Date</th>

				{% for request in denied_requests %}				
				<tr>
					<td>{{ request.employee.last_name }}</td>
					<td>{{ request.employee.first_name }}</td>
					<td>{{ request.employee.position }}</td>
					<td>{{ request.date_start }}</td>
					<td>{{ request.date_end }}</td>
				</tr>
				{% endfor %}		
			</table>
	{% endif %}

</div>		

{% endblock %}